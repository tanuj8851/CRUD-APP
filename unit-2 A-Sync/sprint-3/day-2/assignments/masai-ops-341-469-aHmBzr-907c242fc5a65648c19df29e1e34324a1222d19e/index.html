<!DOCTYPE html>
<html>

<head>
    <title>Masai Employee Records</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Use this form for taking the inputs  -->
    <div id="part-1">
        <form id="form">
            <input placeholder="Name" type="text" id="name" />
            <input placeholder="Employee ID" type="text" id="employee_id" />
            <select id="department">
        <option value="">Select Department</option>
        <option value="HR">HR</option>
        <option value="Finance">Finance</option>
        <option value="Engineering">Engineering</option>
      </select>
            <input placeholder="Experience" type="number" id="experience" />
            <input placeholder="Email" type="email" id="email" />
            <input placeholder="Mobile No." type="number" id="mobile" />
            <input type="submit" value="Submit" />
        </form>
    </div>


    <!-- Use this select tag for filtering  -->
    <div id="part-2">
        <select id="filter">
      <option value="">Select Department</option>
      <option value="HR">HR</option>
      <option value="Finance">Finance</option>
      <option value="Engineering">Engineering</option>
    </select>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Employee ID</th>
                    <th>Department</th>
                    <th>Experience in Years</th>
                    <th>Email</th>
                    <th>Mobile No</th>
                    <th>Role</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <!-- Append Rows here using JS & DOM  -->
            </tbody>
        </table>
    </div>
</body>
<script>
    let form = document.getElementById("form");
    let tbody = document.querySelector("tbody");
    let arr = [];
    form.addEventListener("submit", (el) => {
        el.preventDefault();
        let info = {
            name: form.name.value,
            id: form.employee_id.value,
            depart: form.department.value,
            exp: form.experience.value,
            email: form.email.value,
            num: form.mobile.value
        }
        arr.push(info);
        tbody.innerHTML = null;
        displayTable(arr);

    })
    let filterd = document.getElementById("filter");
    filterd.addEventListener("change", (el) => {
        let filterData = arr.filter((element, index) => {
            if (element == filtered.value) {
                return true;
            } else {
                return false;
            }
        })
        console.log(filterData);
    })




    function displayTable(arr) {
        arr.forEach((el, index) => {

            let tr = document.createElement("tr");

            let td1 = document.createElement("td");
            td1.innerText = el.name;
            let td2 = document.createElement("td");
            td2.innerText = el.id;
            let td3 = document.createElement("td");
            td3.innerText = el.depart;
            let td4 = document.createElement("td");
            td4.innerText = el.exp
            let td5 = document.createElement("td");
            td5.innerText = el.email;
            let td6 = document.createElement("td");
            td6.innerText = el.num;
            let td7 = document.createElement("td");
            if (el.exp > 5) {
                td7.innerText = "Senior";
            } else if (el.exp > 2 && el.exp <= 5) {
                td7.innerText = "Junior";
            } else if (el.exp <= 1) {
                td7.innerText = "Fresher";
            }
            let td8 = document.createElement("td");
            td8.innerText = " Delete";

            td8.style.backgroundColor = "red";
            td8.style.fontSize = 20;

            td8.addEventListener("click", (elem) => {
                elem.preventDefault();
                arr.splice(index, 1);
                displayTable();
            })
            tr.append(td1, td2, td3, td4, td5, td6, td7, td8);
            tbody.append(tr);
        })
    }
</script>

</html>